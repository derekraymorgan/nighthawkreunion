function WMP_EDIT_PAGES(){var e=this;this.type="wmp_editpages",this.form,this.DOMDoc,this.changingStatus=!1,this.editPageDialogWindow,this.changingOrder=!1,this.init=function(){WMPJSInterface=window.parent.WMPJSInterface,this.form=this.DOMDoc.getElementById(this.type+"_form"),null!=this.form&&(this.initPages(),this.initListActions())},this.initListActions=function(){jQuery("ul.pages",this.DOMDoc).sortable({update:function(){e.changeOrder()}}),this.update(),jQuery("ul.pages li div.row",this.DOMDoc).on("click",e.changeStatus)},this.initPages=function(){jQuery("#"+e.type+"_warning a.close-x",this.form).on("click",function(){jQuery("#"+e.type+"_warning",e.DOMDoc).hide()})},this.changeStatus=function(){var t=jQuery(this).closest("li").attr("data-page-id"),a=jQuery(this).closest("li"),i=confirm("Are you sure you want to change the status for this page?");if(i){var s,r=jQuery(".status",a);s=0==r.hasClass("active")?"active":"inactive",0==e.changingStatus&&(WMPJSInterface.Preloader.start(),jQuery.post(ajaxurl,{action:"wmp_content_pagestatus",id:t,status:s},function(t){e.changingStatus=!1,WMPJSInterface.Preloader.remove(100);var t=Boolean(Number(String(t)));if(1==t){r.addClass(s),r.removeClass("active"==s?"inactive":"active"),r.text(s);var a="The status of this page has been changed.";WMPJSInterface.Loader.display({message:a});var i=jQuery("li span.active",e.form).length;i>0?jQuery("#"+e.type+"_warning",e.DOMDoc).hide():jQuery("#"+e.type+"_warning",e.DOMDoc).show()}else{var a="There was an error. Please reload the page and try again in few seconds or contact the plugin administrator if the problem persists.";WMPJSInterface.Loader.display({message:a})}}))}},this.changeOrder=function(){if(1!=e.changingStatus){var t="";jQuery("ul.pages li",e.DOMDoc).each(function(e){t+=jQuery(this).attr("data-page-id")+",";var a=e+1;jQuery(this).attr("data-order",a)}),WMPJSInterface.Preloader.start(),e.changingStatus=!0,jQuery.post(ajaxurl,{action:"wmp_content_order",type:"pages",ids:t},function(t){WMPJSInterface.Preloader.remove(100),e.changingStatus=!1;var t=Boolean(Number(String(t)));if(1==t){var a="The order of the pages has been successfully changed.";WMPJSInterface.Loader.display({message:a})}else{var a="There was an error. Please reload the page and try again in few seconds or contact the plugin administrator if the problem persists.";WMPJSInterface.Loader.display({message:a})}})}},this.update=function(){var t=jQuery("ul.pages li",this.DOMDoc).length;jQuery("ul.pages",e.DOMDoc).sortable(t>1?"enable":"disable")}}